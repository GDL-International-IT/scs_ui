{"ast":null,"code":"var _jsxFileName = \"/Users/andrew/WebstormProjects/test1/scs_ui/src/components/DrawingCanvas/DrawingCanvas.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport styles from './DrawingCanvas.module.css';\nimport DrawingCanvasMenu from \"../DrawingCanvasMenu/DrawingCanvasMenu\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DrawingCanvas = ({\n  isActive\n}) => {\n  _s();\n  const canvasRef = useRef(null);\n  const ctxRef = useRef(null);\n  const [isDrawing, setIsDrawing] = useState(false);\n  const [lineWidth, setLineWidth] = useState(5);\n  const [lineColor, setLineColor] = useState(\"black\");\n  const [lineOpacity, setLineOpacity] = useState(0.1);\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext(\"2d\");\n    ctx.lineCap = \"round\";\n    ctx.lineJoin = \"round\";\n    ctx.globalAlpha = lineOpacity;\n    ctx.strokeStyle = lineColor;\n    ctx.lineWidth = lineWidth;\n    ctxRef.current = ctx;\n  }, [lineColor, lineOpacity, lineWidth]);\n  const startDrawing = e => {\n    ctxRef.current.beginPath();\n    ctxRef.current.moveTo(e.nativeEvent.offsetX, e.nativeEvent.offsetY);\n    setIsDrawing(true);\n  };\n  const endDrawing = () => {\n    ctxRef.current.closePath();\n    setIsDrawing(false);\n  };\n  const draw = e => {\n    if (!isDrawing) {\n      return;\n    }\n    ctxRef.current.lineTo(e.nativeEvent.offsetX, e.nativeEvent.offsetY);\n    ctxRef.current.stroke();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.drawArea,\n    children: [/*#__PURE__*/_jsxDEV(DrawingCanvasMenu, {\n      setLineColor: setLineColor,\n      setLineWidth: setLineWidth,\n      setLineOpacity: setLineOpacity\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n      onMouseDown: isActive ? startDrawing : null,\n      onMouseUp: isActive ? endDrawing : null,\n      onMouseMove: isActive ? draw : null,\n      ref: canvasRef\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 9\n  }, this);\n};\n_s(DrawingCanvas, \"vBshLpL7ABCoyr8cnVNUS8KxMSk=\");\n_c = DrawingCanvas;\nexport default DrawingCanvas;\nvar _c;\n$RefreshReg$(_c, \"DrawingCanvas\");","map":{"version":3,"names":["React","useEffect","useRef","useState","styles","DrawingCanvasMenu","jsxDEV","_jsxDEV","DrawingCanvas","isActive","_s","canvasRef","ctxRef","isDrawing","setIsDrawing","lineWidth","setLineWidth","lineColor","setLineColor","lineOpacity","setLineOpacity","canvas","current","ctx","getContext","lineCap","lineJoin","globalAlpha","strokeStyle","startDrawing","e","beginPath","moveTo","nativeEvent","offsetX","offsetY","endDrawing","closePath","draw","lineTo","stroke","className","drawArea","children","fileName","_jsxFileName","lineNumber","columnNumber","onMouseDown","onMouseUp","onMouseMove","ref","_c","$RefreshReg$"],"sources":["/Users/andrew/WebstormProjects/test1/scs_ui/src/components/DrawingCanvas/DrawingCanvas.jsx"],"sourcesContent":["import React, {useEffect, useRef, useState} from 'react'\nimport styles from './DrawingCanvas.module.css'\nimport DrawingCanvasMenu from \"../DrawingCanvasMenu/DrawingCanvasMenu\"\n\nconst DrawingCanvas = ({isActive}) => {\n    const canvasRef = useRef(null)\n    const ctxRef = useRef(null)\n    const [isDrawing, setIsDrawing] = useState(false)\n    const [lineWidth, setLineWidth] = useState(5)\n    const [lineColor, setLineColor] = useState(\"black\")\n    const [lineOpacity, setLineOpacity] = useState(0.1)\n\n    useEffect(() => {\n        const canvas = canvasRef.current\n        const ctx = canvas.getContext(\"2d\")\n        ctx.lineCap = \"round\"\n        ctx.lineJoin = \"round\"\n        ctx.globalAlpha = lineOpacity\n        ctx.strokeStyle = lineColor\n        ctx.lineWidth = lineWidth\n        ctxRef.current = ctx\n    }, [lineColor, lineOpacity, lineWidth])\n\n    const startDrawing = (e) => {\n        ctxRef.current.beginPath()\n        ctxRef.current.moveTo(\n            e.nativeEvent.offsetX,\n            e.nativeEvent.offsetY\n        )\n        setIsDrawing(true)\n    }\n\n    const endDrawing = () => {\n        ctxRef.current.closePath()\n        setIsDrawing(false)\n    }\n\n    const draw = (e) => {\n        if (!isDrawing) {\n            return\n        }\n        ctxRef.current.lineTo(\n            e.nativeEvent.offsetX,\n            e.nativeEvent.offsetY\n        )\n\n        ctxRef.current.stroke()\n    }\n    return (\n        <div className={styles.drawArea}>\n            <DrawingCanvasMenu\n                setLineColor={setLineColor}\n                setLineWidth={setLineWidth}\n                setLineOpacity={setLineOpacity}\n            />\n            <canvas\n                onMouseDown={isActive ? startDrawing : null}\n                onMouseUp={isActive ? endDrawing : null}\n                onMouseMove={isActive ? draw : null}\n                ref={canvasRef}\n                \n            />\n        </div>\n    )\n}\n\nexport default DrawingCanvas"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}